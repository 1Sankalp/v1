"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./app/lib/auth.config.ts":
/*!********************************!*\
  !*** ./app/lib/auth.config.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authConfig: () => (/* binding */ authConfig)\n/* harmony export */ });\n/* harmony import */ var _auth_core_providers_github__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/core/providers/github */ \"(middleware)/./node_modules/@auth/core/providers/github.js\");\n/* harmony import */ var _auth_core_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @auth/core/providers/google */ \"(middleware)/./node_modules/@auth/core/providers/google.js\");\n/* harmony import */ var _auth_core_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @auth/core/providers/credentials */ \"(middleware)/./node_modules/@auth/core/providers/credentials.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @supabase/supabase-js */ \"(middleware)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"(middleware)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_5__.createClient)(\"https://jznlgabssuvtmkikdixz.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\nconst authConfig = {\n    pages: {\n        signIn: \"/login\",\n        verifyRequest: \"/verify-request\",\n        error: \"/auth/error\"\n    },\n    providers: [\n        (0,_auth_core_providers_github__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.GITHUB_ID,\n            clientSecret: process.env.GITHUB_SECRET\n        }),\n        (0,_auth_core_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_ID,\n            clientSecret: process.env.GOOGLE_SECRET\n        }),\n        (0,_auth_core_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                },\n                username: {\n                    label: \"Username\",\n                    type: \"text\"\n                },\n                isSignup: {\n                    label: \"Is Signup\",\n                    type: \"boolean\"\n                }\n            },\n            async authorize (credentials) {\n                const { email, password, username, isSignup } = credentials;\n                if (!email || !password) {\n                    throw new Error(\"Invalid credentials\");\n                }\n                if (isSignup && !username) {\n                    throw new Error(\"Username is required for signup\");\n                }\n                try {\n                    if (isSignup) {\n                        // Check if user already exists\n                        const { data: existingUser } = await supabase.from(\"users\").select(\"id\").or(`email.eq.${email.toLowerCase()},username.eq.${username.toLowerCase()}`).single();\n                        if (existingUser) {\n                            throw new Error(\"User already exists\");\n                        }\n                        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hash(password, 10);\n                        const userId = crypto__WEBPACK_IMPORTED_MODULE_4___default().randomUUID();\n                        // Create new user with minimal fields\n                        const { data: newUser, error: createError } = await supabase.from(\"users\").insert({\n                            id: userId,\n                            email: email.toLowerCase(),\n                            username: username.toLowerCase(),\n                            hashed_password: hashedPassword // Using hashed_password instead of password\n                        }).select(\"id, email, username\").single();\n                        if (createError) {\n                            console.error(\"Create user error:\", createError);\n                            throw new Error(createError.message);\n                        }\n                        return {\n                            id: newUser.id,\n                            email: newUser.email,\n                            username: newUser.username\n                        };\n                    }\n                    // Handle sign in\n                    const { data: user, error } = await supabase.from(\"users\").select(\"id, email, username, hashed_password\") // Using hashed_password\n                    .eq(\"email\", email.toLowerCase()).single();\n                    if (error || !user) {\n                        throw new Error(\"User not found\");\n                    }\n                    const isValidPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].compare(password, user.hashed_password || \"\");\n                    if (!isValidPassword) {\n                        throw new Error(\"Invalid password\");\n                    }\n                    // Return user without password\n                    const { hashed_password: _, ...userWithoutPassword } = user;\n                    return userWithoutPassword;\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    throw error;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, trigger, session }) {\n            if (trigger === \"update\" && session) {\n                return {\n                    ...token,\n                    ...session.user\n                };\n            }\n            if (user) {\n                token.id = user.id;\n                token.username = user.username;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.username = token.username;\n            }\n            return session;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEF1dGhDb25maWcgfSBmcm9tIFwibmV4dC1hdXRoXCJcbmltcG9ydCBHaXRIdWIgZnJvbSBcIkBhdXRoL2NvcmUvcHJvdmlkZXJzL2dpdGh1YlwiXG5pbXBvcnQgR29vZ2xlIGZyb20gXCJAYXV0aC9jb3JlL3Byb3ZpZGVycy9nb29nbGVcIlxuaW1wb3J0IENyZWRlbnRpYWxzIGZyb20gXCJAYXV0aC9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXG5cbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuKVxuXG5leHBvcnQgY29uc3QgYXV0aENvbmZpZyA9IHtcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvbG9naW4nLFxuICAgIHZlcmlmeVJlcXVlc3Q6ICcvdmVyaWZ5LXJlcXVlc3QnLFxuICAgIGVycm9yOiAnL2F1dGgvZXJyb3InXG4gIH0sXG4gIHByb3ZpZGVyczogW1xuICAgIEdpdEh1Yih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0lEISxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR0lUSFVCX1NFQ1JFVCEsXG4gICAgfSksXG4gICAgR29vZ2xlKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfSUQhLFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVUISxcbiAgICB9KSxcbiAgICBDcmVkZW50aWFscyh7XG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogXCJFbWFpbFwiLCB0eXBlOiBcImVtYWlsXCIgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG4gICAgICAgIHVzZXJuYW1lOiB7IGxhYmVsOiBcIlVzZXJuYW1lXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgIGlzU2lnbnVwOiB7IGxhYmVsOiBcIklzIFNpZ251cFwiLCB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSwgaXNTaWdudXAgfSA9IGNyZWRlbnRpYWxzIGFzIGFueTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNyZWRlbnRpYWxzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTaWdudXAgJiYgIXVzZXJuYW1lKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VybmFtZSBpcyByZXF1aXJlZCBmb3Igc2lnbnVwJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChpc1NpZ251cCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgICAgLm9yKGBlbWFpbC5lcS4ke2VtYWlsLnRvTG93ZXJDYXNlKCl9LHVzZXJuYW1lLmVxLiR7dXNlcm5hbWUudG9Mb3dlckNhc2UoKX1gKVxuICAgICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgdXNlciB3aXRoIG1pbmltYWwgZmllbGRzXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IG5ld1VzZXIsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICBoYXNoZWRfcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkIC8vIFVzaW5nIGhhc2hlZF9wYXNzd29yZCBpbnN0ZWFkIG9mIHBhc3N3b3JkXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5zZWxlY3QoJ2lkLCBlbWFpbCwgdXNlcm5hbWUnKVxuICAgICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICAgIGlmIChjcmVhdGVFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgdXNlciBlcnJvcjonLCBjcmVhdGVFcnJvcik7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IG5ld1VzZXIuaWQsXG4gICAgICAgICAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxuICAgICAgICAgICAgICB1c2VybmFtZTogbmV3VXNlci51c2VybmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgc2lnbiBpblxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIGVtYWlsLCB1c2VybmFtZSwgaGFzaGVkX3Bhc3N3b3JkJykgLy8gVXNpbmcgaGFzaGVkX3Bhc3N3b3JkXG4gICAgICAgICAgICAuZXEoJ2VtYWlsJywgZW1haWwudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICAgIGlmIChlcnJvciB8fCAhdXNlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLmhhc2hlZF9wYXNzd29yZCB8fCAnJyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXNzd29yZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmRcbiAgICAgICAgICBjb25zdCB7IGhhc2hlZF9wYXNzd29yZDogXywgLi4udXNlcldpdGhvdXRQYXNzd29yZCB9ID0gdXNlcjtcbiAgICAgICAgICByZXR1cm4gdXNlcldpdGhvdXRQYXNzd29yZDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIHRyaWdnZXIsIHNlc3Npb24gfSkge1xuICAgICAgaWYgKHRyaWdnZXIgPT09IFwidXBkYXRlXCIgJiYgc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4geyAuLi50b2tlbiwgLi4uc2Vzc2lvbi51c2VyIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuICAgICAgICB0b2tlbi51c2VybmFtZSA9IHVzZXIudXNlcm5hbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkIGFzIHN0cmluZztcbiAgICAgICAgc2Vzc2lvbi51c2VyLnVzZXJuYW1lID0gdG9rZW4udXNlcm5hbWUgYXMgc3RyaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICB9XG59IHNhdGlzZmllcyBOZXh0QXV0aENvbmZpZyAiXSwibmFtZXMiOlsiR2l0SHViIiwiR29vZ2xlIiwiQ3JlZGVudGlhbHMiLCJjcmVhdGVDbGllbnQiLCJiY3J5cHQiLCJjcnlwdG8iLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiYXV0aENvbmZpZyIsInBhZ2VzIiwic2lnbkluIiwidmVyaWZ5UmVxdWVzdCIsImVycm9yIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJHSVRIVUJfSUQiLCJjbGllbnRTZWNyZXQiLCJHSVRIVUJfU0VDUkVUIiwiR09PR0xFX0lEIiwiR09PR0xFX1NFQ1JFVCIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsInVzZXJuYW1lIiwiaXNTaWdudXAiLCJhdXRob3JpemUiLCJFcnJvciIsImRhdGEiLCJleGlzdGluZ1VzZXIiLCJmcm9tIiwic2VsZWN0Iiwib3IiLCJ0b0xvd2VyQ2FzZSIsInNpbmdsZSIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsInVzZXJJZCIsInJhbmRvbVVVSUQiLCJuZXdVc2VyIiwiY3JlYXRlRXJyb3IiLCJpbnNlcnQiLCJpZCIsImhhc2hlZF9wYXNzd29yZCIsImNvbnNvbGUiLCJtZXNzYWdlIiwidXNlciIsImVxIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZSIsIl8iLCJ1c2VyV2l0aG91dFBhc3N3b3JkIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJ0cmlnZ2VyIiwic2Vzc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./app/lib/auth.config.ts\n");

/***/ })

});